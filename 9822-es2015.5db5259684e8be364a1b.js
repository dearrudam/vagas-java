"use strict";(self.webpackChunksoujavaVagas=self.webpackChunksoujavaVagas||[]).push([[9822],{9822:function(e,t,i){i.r(t),i.d(t,{VagasPageModule:function(){return d}});var a=i(8583),n=i(665),s=i(649),o=i(7232),r=i(4762),l=i(775),c=i(639);function g(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-card",8),c.NdJ("click",function(){const t=c.CHM(e).$implicit;return c.oxw().openVaga(t)}),c.TgZ(1,"ion-card-header"),c.TgZ(2,"ion-card-title"),c._uU(3),c.qZA(),c.TgZ(4,"ion-card-subtitle"),c._uU(5),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit,i=c.oxw();c.xp6(3),c.Oqu(e.title),c.xp6(2),c.Oqu(i.getLabels(null==e?null:e.labels))}}const u=[{path:"",component:(()=>{class e{constructor(e,t,i,a){this.vagaService=e,this.alertController=t,this.loadingController=i,this.router=a,this.vagas=[],this.vagasFilter=[],this.page=1,this.pesquisa=""}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({message:"Please wait...",spinner:"bubbles"});e.present(),this.vagaService.getAllVagasPaginacao(this.page,100).subscribe({next:t=>(0,r.mG)(this,void 0,void 0,function*(){this.vagasFilter=t,this.vagas=this.vagasFilter,yield e.dismiss()}),error:t=>(0,r.mG)(this,void 0,void 0,function*(){yield e.dismiss(),console.error(t);const{error:i,statusText:a}=t;let{message:n}=i||{message:a};const s=yield this.alertController.create({cssClass:"my-custom-class",header:"Ops!!!",message:n,buttons:[{text:"OK",id:"confirm-button",handler:()=>{this.router.navigate(["home"]),s.dismiss()}}]});yield s.present()}),complete:()=>{}})})}openVaga(e){this.router.navigate([`/cadastro-vaga/${e.number}`])}loadData(e){this.vagaService.getAllVagasPaginacao(this.page++,10).subscribe(t=>{this.vagasFilter=this.vagasFilter.concat(t),this.vagas=this.vagasFilter,e.target.complete()})}buscar(){this.vagas=this.vagasFilter.filter(e=>e.title.toLocaleLowerCase().includes(this.pesquisa.toLowerCase()))}cancelar(){this.vagas=this.vagasFilter}limpar(){this.pesquisa=""}openNewVaga(){window.open("https://github.com/soujava/vagas-java/issues/new/choose","_blank")}getLabels(e){if(e){let t=e.map(e=>e.name);if(t.length>0)return t.reduce(e=>e+", ")}}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(l.K),c.Y36(o.Br),c.Y36(o.HT),c.Y36(s.F0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-vagas"]],decls:19,vars:2,consts:[["slot","start"],["size","12"],[3,"ngModel","ngModelChange","ionChange","ionClear","ionCancel"],[3,"click",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["vertical","bottom","horizontal","end","slot","fixed"],["name","add",3,"click"],[3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c._UZ(3,"ion-menu-button"),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5," Vagas "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-content"),c.TgZ(7,"ion-grid"),c.TgZ(8,"ion-row"),c.TgZ(9,"ion-col",1),c.TgZ(10,"ion-searchbar",2),c.NdJ("ngModelChange",function(e){return t.pesquisa=e})("ionChange",function(){return t.buscar()})("ionClear",function(){return t.cancelar()})("ionCancel",function(){return t.limpar()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"ion-row"),c.TgZ(12,"ion-col",1),c.YNc(13,g,6,2,"ion-card",3),c.qZA(),c.qZA(),c.TgZ(14,"ion-infinite-scroll",4),c.NdJ("ionInfinite",function(e){return t.loadData(e)}),c._UZ(15,"ion-infinite-scroll-content",5),c.qZA(),c.qZA(),c.TgZ(16,"ion-fab",6),c.TgZ(17,"ion-fab-button"),c.TgZ(18,"ion-icon",7),c.NdJ("click",function(){return t.openNewVaga()}),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(10),c.Q6J("ngModel",t.pesquisa),c.xp6(3),c.Q6J("ngForOf",t.vagas))},directives:[o.Gu,o.sr,o.Sm,o.fG,o.wd,o.W2,o.jY,o.Nd,o.wI,o.VI,o.j9,n.JJ,n.On,a.sg,o.ju,o.MB,o.IJ,o.W4,o.gu,o.PM,o.Zi,o.Dq,o.tO],styles:[""]}),e})()}];let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.ez,n.u5,o.Pc,s.Bz.forChild(u)]]}),e})()}}]);